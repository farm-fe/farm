import CodeBlock from "@theme/CodeBlock";
import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# @farmfe/plugin-react-components

æŒ‰éœ€è‡ªåŠ¨å¯¼å…¥Reactç»„ä»¶ã€‚

## å®‰è£…

<Tabs>
  <TabItem value="npm" label="npm">
    <CodeBlock>npm install @farmfe/plugin-react-components</CodeBlock>
  </TabItem>
  <TabItem value="yarn" label="yarn">
    <CodeBlock>yarn add @farmfe/plugin-react-components</CodeBlock>
  </TabItem>
  <TabItem value="pnpm" label="pnpm">
    <CodeBlock>pnpm add @farmfe/plugin-react-components</CodeBlock>
  </TabItem>
</Tabs>

## ä½¿ç”¨
`@farmfe/plugin-react-components` æ˜¯ä¸€ä¸ªRustæ’ä»¶ï¼Œä½ åªéœ€è¦åœ¨ `farm.config.ts` çš„ `plugins` å­—æ®µä¸­é…ç½®å…¶åŒ…åå³å¯ã€‚
```ts {4}
import { UserConfig } from "farm";

const config: UserConfig = {
  plugins: ['@farmfe/plugin-react-components', { /** é€‰é¡¹åœ¨æ­¤ */}]
}
```

## åŠŸèƒ½

- ğŸ’š æ”¯æŒReactå¼€ç®±å³ç”¨ã€‚
- âœ¨ æ”¯æŒç»„ä»¶å’ŒæŒ‡ä»¤ã€‚
- ğŸ æ ‘æ‘‡ï¼ˆTree-shakingï¼‰ï¼Œåªæ³¨å†Œä½ ä½¿ç”¨çš„ç»„ä»¶ã€‚
- ğŸª æ–‡ä»¶å¤¹åç§°ä½œä¸ºå‘½åç©ºé—´ã€‚
- ğŸ¦¾ å®Œæ•´çš„TypeScriptæ”¯æŒã€‚
- ğŸŒˆ ä¸ºæµè¡Œçš„UIåº“æä¾›[å†…ç½®è§£æå™¨](#ä»UIåº“ä¸­å¯¼å…¥)ã€‚

## ä½¿ç”¨

åƒå¾€å¸¸ä¸€æ ·åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ç»„ä»¶ï¼Œå®ƒå°†æŒ‰éœ€å¯¼å…¥ç»„ä»¶ï¼Œä¸å†éœ€è¦`import`å’Œ`component registration`ï¼å¦‚æœä½ å¼‚æ­¥æ³¨å†Œçˆ¶ç»„ä»¶ï¼ˆæˆ–æ‡’åŠ è½½è·¯ç”±ï¼‰ï¼Œè‡ªåŠ¨å¯¼å…¥çš„ç»„ä»¶ä¼šä¸å…¶çˆ¶ç»„ä»¶ä¸€èµ·è¿›è¡Œä»£ç æ‹†åˆ†ã€‚

å®ƒä¼šè‡ªåŠ¨å°†è¿™ä¸ª

```tsx
export function Main() {
  return <HelloWorld msg="Hello React + Farm" />
}
```

è½¬æ¢æˆè¿™ä¸ª

```tsx
import HelloWorld from './src/components/HelloWorld'

export function Main() {
  return <HelloWorld msg="Hello React + Farm" />
}
```

> **æ³¨æ„**
> é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤æ’ä»¶ä¼šå¯¼å…¥`src/components`è·¯å¾„ä¸­çš„ç»„ä»¶ã€‚ä½ å¯ä»¥ä½¿ç”¨`dirs`é€‰é¡¹è¿›è¡Œè‡ªå®šä¹‰ã€‚

## TypeScript

ä¸ºè‡ªåŠ¨å¯¼å…¥çš„ç»„ä»¶è·å¾—TypeScriptæ”¯æŒã€‚

```ts
Components({
  dts: true, // å¦‚æœå®‰è£…äº†`typescript`é»˜è®¤å¯ç”¨
})
```

å®Œæˆè®¾ç½®åï¼Œå°†è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª`components.d.ts`æ–‡ä»¶ï¼Œå¹¶è‡ªåŠ¨æ›´æ–°ç±»å‹å®šä¹‰ã€‚ä½ å¯ä»¥é€‰æ‹©æ˜¯å¦å°†å…¶æäº¤åˆ°gitã€‚

> **ç¡®ä¿ä½ ä¹Ÿå°†`components.d.ts`æ·»åŠ åˆ°`tsconfig.json`çš„`include`ä¸­ã€‚**

## ä»UIåº“ä¸­å¯¼å…¥

æˆ‘ä»¬ä¸ºå‡ ä¸ªæµè¡Œçš„UIåº“ï¼ˆå¦‚**Ant Design**ã€**Arco Design**å’Œ**Material UI**ï¼‰æä¾›äº†å‡ ä¸ªå†…ç½®è§£æå™¨ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å¯ç”¨å®ƒä»¬ï¼š

æ”¯æŒçš„è§£æå™¨ï¼š

- [Ant Design](https://ant.design/)
- [Arco Design](https://arco.design/react/docs/start)
- [Material UI](https://mui.com/)

```ts
// farm.config.js

import { UserConfig } from "farm";

const config: UserConfig = {
  plugins: ['@farmfe/plugin-react-components', {
        local: true,
        resolvers:[
          {
            module: "antd",
            prefix: "Ant"
          },
          {
            module:"@arco-design/web-react",
            prefix: "Arco",
            import_style: true // style/index.js
          }
        ]
  }]
}
```

## é…ç½®

ä»¥ä¸‹æ˜¾ç¤ºäº†é…ç½®çš„é»˜è®¤å€¼
<strike>component</strike>
```ts
{
  // ç›¸å¯¹è·¯å¾„åˆ°æœç´¢ç»„ä»¶çš„ç›®å½•ã€‚
  dirs: ['src/components'],
  
  // è‡ªå®šä¹‰ç»„ä»¶çš„è§£æå™¨ã€‚
  resolvers: [],

  /**
   * ç»„ä»¶ä»¥ç»å¯¹æˆ–ç›¸å¯¹è·¯å¾„å¼•å…¥ã€‚
   *
   * @default ç»å¯¹
   */
  import_mode: "Absolute"

  /**
   * æ˜¯å¦å¯¹æœ¬åœ°ç»„ä»¶æœ‰æ•ˆ
   *
   * @default true
   */
  local: true,

  /**
   * å¯¼å…¥æ ·å¼`style/index.js`ï¼Œä¹Ÿæ¥å—è·¯å¾„ç”¨äºè‡ªå®šä¹‰è·¯å¾„(<Component>/**)ä¸ç»„ä»¶
   *
   * @default false
   */
  importStyle?: boolean | string 

  // ç”Ÿæˆå…¨å±€å£°æ˜çš„`components.d.ts`ï¼Œ
  // ä¹Ÿæ¥å—è‡ªå®šä¹‰æ–‡ä»¶åçš„è·¯å¾„
  // é»˜è®¤ï¼šå¦‚æœå®‰è£…äº†typescriptåŒ…åˆ™ä¸º`true`
  dts: true,

  // è½¬æ¢ç›®æ ‡ï¼ˆè¦æ’å…¥è‡ªåŠ¨å¯¼å…¥çš„ç»„ä»¶ï¼‰çš„è¿‡æ»¤å™¨
  // æ³¨æ„ï¼Œè¿™ä¸æ˜¯å…³äºåŒ…å«/æ’é™¤æ³¨å†Œç»„ä»¶ - ä½¿ç”¨`Regex`æ¥åšé‚£ä¸ª
  include: ["src/components"],
  exclude: ["node_modules"],
}
```
