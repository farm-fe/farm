import CodeBlock from "@theme/CodeBlock";
import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# @farmfe/plugin-strip

ğŸ£ ä¸€ä¸ªFarm Rustæ’ä»¶ï¼Œç”¨äºä»ä½ çš„ä»£ç ä¸­ç§»é™¤`debugger`è¯­å¥å’Œå¦‚`assert.equal`ã€`console.log`è¿™æ ·çš„å‡½æ•°ã€‚

## è¦æ±‚

è¿™ä¸ªæ’ä»¶éœ€è¦ä¸€ä¸ª[LTS](https://github.com/nodejs/Release) Nodeç‰ˆæœ¬ï¼ˆv18.0.0+ï¼‰å’ŒFarm v1.0.0+ã€‚

## å®‰è£…

<Tabs>
  <TabItem value="npm" label="npm">
    <CodeBlock>npm install @farmfe/plugin-strip</CodeBlock>
  </TabItem>
  <TabItem value="yarn" label="yarn">
    <CodeBlock>yarn add @farmfe/plugin-strip</CodeBlock>
  </TabItem>
  <TabItem value="pnpm" label="pnpm">
    <CodeBlock>pnpm add @farmfe/plugin-strip</CodeBlock>
  </TabItem>
</Tabs>

## ä½¿ç”¨

åˆ›å»ºä¸€ä¸ª`farm.config.js`[é…ç½®æ–‡ä»¶](https://www.farmfe.org/docs/config/configuring-farm)å¹¶å¯¼å…¥æ’ä»¶ï¼š

```js
import { defineConfig } from 'farm';
import strip from '@farmfe/plugin-strip';

export default defineConfig({
  // ...
  plugins: [
    [
      strip({
        // æ’ä»¶é€‰é¡¹
        functions:[ 'console.*', 'assert.*' ],
        labels: ['unittest']
      })
    ]
  ],
  // ...
});
```

## é€‰é¡¹

### `include`

ç±»å‹: `String | RegExp | Array[...String|RegExp]`<br/>
é»˜è®¤å€¼: `['**/*.js']`<br/>
ç¤ºä¾‹: `include: '**/*.(mjs|js)',`<br/>

æŒ‡å®šæ’ä»¶åº”æ“ä½œçš„æ„å»ºä¸­çš„æ–‡ä»¶çš„æ¨¡å¼æˆ–æ¨¡å¼æ•°ç»„ã€‚

### `exclude`

ç±»å‹: `String | RegExp | Array[...String|RegExp]`<br/>
é»˜è®¤å€¼: `[]`<br/>
ç¤ºä¾‹: `exlude: 'tests/**/*',`<br/>

æŒ‡å®šæ’ä»¶åº”_å¿½ç•¥_çš„æ„å»ºä¸­çš„æ–‡ä»¶çš„æ¨¡å¼æˆ–æ¨¡å¼æ•°ç»„ã€‚

### `debugger`

ç±»å‹: `Boolean`<br/>
é»˜è®¤å€¼: `true`<br/>
ç¤ºä¾‹: `debugger: false,`<br/>

å¦‚æœä¸º`true`ï¼ŒæŒ‡ç¤ºæ’ä»¶ç§»é™¤debuggerè¯­å¥ã€‚

### `functions`

ç±»å‹: `Array[...String]`<br/>
é»˜è®¤å€¼: `[ 'console.*', 'assert.*' ]`<br/>
ç¤ºä¾‹: `functions: [ 'console.log', 'MyClass.Test' ],`<br/>

æŒ‡å®šæ’ä»¶å°†ç›®æ ‡å®šä½å’Œç§»é™¤çš„å‡½æ•°ã€‚

_æ³¨æ„ï¼šæŒ‡å®šåœ¨é“¾çš„å¼€å¤´ä½¿ç”¨çš„å‡½æ•°ï¼Œå¦‚'a().b().c()'ï¼Œå°†å¯¼è‡´'(void 0).b().c()'ï¼Œè¿™åœ¨è¿è¡Œæ—¶ä¼šäº§ç”Ÿé”™è¯¯ã€‚_

### `labels`

ç±»å‹: `Array[...String]`<br/>
é»˜è®¤å€¼: `[]`<br/>
ç¤ºä¾‹: `labels: ['unittest'],`<br/>

æŒ‡å®šæ’ä»¶å°†ç›®æ ‡å®šä½å’Œç§»é™¤çš„[å¸¦æ ‡ç­¾çš„å—æˆ–è¯­å¥](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/label)ã€‚

_æ³¨æ„ï¼š'**:**'æ˜¯éšå«çš„ï¼Œä¸åº”åœ¨é…ç½®ä¸­æŒ‡å®šã€‚_

### `sourceMap`

ç±»å‹: `Boolean`<br/>
é»˜è®¤å€¼: `true`<br/>
ç¤ºä¾‹: `sourceMap: false,`<br/>

å¦‚æœä¸º`true`ï¼ŒæŒ‡ç¤ºæ’ä»¶åœ¨ä»æ†ç»‘åŒ…ä¸­ç§»é™¤é…ç½®çš„ç›®æ ‡åç›¸åº”åœ°æ›´æ–°æºæ˜ å°„ã€‚
